<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒªãƒ–ã‚±ãƒ¼ã‚¸é€£å‹•ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ­ã‚°</title>
<meta name="theme-color" content="#111111">
<link rel="manifest" href="manifest.json">

<style>
body {
  font-family: system-ui, sans-serif;
  background:#111;
  color:#eee;
  margin:0; padding:20px;
  line-height:1.7;
  overflow-x:hidden;
}
h1 {
  text-align:center;
  color:#ff0;
  font-size:1.4em;
  margin-bottom:10px;
}

/* ğŸŒŠé€²æ—ãƒãƒ¼ */
.progress-container {
  background:#333;
  border-radius:10px;
  overflow:hidden;
  height:20px;
  margin:15px 0 25px 0;
}
.progress-bar {
  height:100%;
  width:0%;
  text-align:center;
  font-size:0.8em;
  color:#fff;
  transition:width 0.5s ease-in-out;
  background:linear-gradient(90deg,#ff6600,#ffaa33,#ff6600);
  background-size:200% 100%;
  animation:wave 3s ease-in-out infinite;
  box-shadow:0 0 10px rgba(255,165,0,0.4);
}
@keyframes wave {
  0%{background-position:0 0;}
  50%{background-position:100% 0;}
  100%{background-position:0 0;}
}

/* âœ… ãƒ‰ãƒªãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
section {
  background:#222;
  border-radius:8px;
  padding:8px 12px;
  margin-bottom:12px;
}
summary.summary-row {
  display:flex;
  justify-content:space-between;
  align-items:center;
  list-style:none;
  color:#ff0;
  font-weight:bold;
  font-size:1.05em;
  cursor:pointer;
  padding:6px 0;
}
button.check {
  background:#444; color:#fff;
  border:none; border-radius:6px;
  padding:6px 12px; font-size:0.9em;
  cursor:pointer;
}
button.check.done {
  background:#0a0; color:#fff;
}
details[open] summary {
  background:rgba(255,255,0,0.1);
  border-radius:4px;
}
img {
  width:100%; border-radius:8px; margin-top:8px;
}
.log { color:#0f0; font-size:0.9em; margin-top:8px; }
.last { color:#0ff; font-size:0.85em; margin-top:3px; }
#reset {
  display:block; width:100%;
  background:#900; color:#fff;
  font-size:1em; padding:10px;
  border:none; border-radius:6px;
  margin-top:25px; cursor:pointer;
}
footer {
  text-align:center; margin-top:25px;
  color:#888; font-size:0.85em;
}
</style>
</head>

<body>
<h1>ãƒªãƒ–ã‚±ãƒ¼ã‚¸é€£å‹•ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ­ã‚°</h1>

<div class="progress-container">
  <div class="progress-bar" id="progressBar">ä»Šé€± 0 / 2 å›</div>
</div>

<!-- ==== å„ãƒ‰ãƒªãƒ« ==== -->
<section>
<details>
  <summary class="summary-row">
    <span>â‘  ãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒ‡ãƒƒãƒ‰ãƒã‚°</span>
    <button class="check" onclick="addLog(this)">â–¡ å®Ÿæ–½</button>
  </summary>
  <img src="images/deadbug-1.jpg" alt="ãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒ‡ãƒƒãƒ‰ãƒã‚°">
  <p><b>ç›®çš„ï¼š</b>éª¨ç›¤ã¨è‚‹éª¨ã®æ³¢å‹•é€£å‹•ã§å››è‚¢ã‚’åˆ¶å¾¡ã™ã‚‹ã€‚</p>
  <p class="log">ä»Šæœˆã®å®Ÿæ–½æ—¥ï¼š<span id="log1"></span></p>
  <p class="last">æœ€çµ‚å®Ÿæ–½æ—¥ï¼š<span id="last1">â€•</span></p>
</details>
</section>

<section>
<details>
  <summary class="summary-row">
    <span>â‘¡ ãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒã‚¦ãƒ³ã‚¹</span>
    <button class="check" onclick="addLog(this)">â–¡ å®Ÿæ–½</button>
  </summary>
  <img src="images/bounce-1.jpg" alt="ãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒã‚¦ãƒ³ã‚¹">
  <p><b>ç›®çš„ï¼š</b>è‚‹éª¨ã®åœ§ç¸®åå°„ã§ä¸Šä¸‹ã®ãƒãƒåå¿œã‚’é«˜ã‚ã‚‹ã€‚</p>
  <p class="log">ä»Šæœˆã®å®Ÿæ–½æ—¥ï¼š<span id="log2"></span></p>
  <p class="last">æœ€çµ‚å®Ÿæ–½æ—¥ï¼š<span id="last2">â€•</span></p>
</details>
</section>

<section>
<details>
  <summary class="summary-row">
    <span>â‘¢ ã‚¹ãƒ†ãƒƒãƒ—å°ãƒ’ãƒƒãƒ—ãƒ‰ãƒªãƒ•ãƒˆ</span>
    <button class="check" onclick="addLog(this)">â–¡ å®Ÿæ–½</button>
  </summary>
  <img src="images/hipdrift-1.jpg" alt="ã‚¹ãƒ†ãƒƒãƒ—å°ãƒ’ãƒƒãƒ—ãƒ‰ãƒªãƒ•ãƒˆ">
  <p><b>ç›®çš„ï¼š</b>éª¨ç›¤ã®æ»‘èµ°ã‚’æ»‘ã‚‰ã‹ã«ã—ã€é‡å¿ƒç§»å‹•ã‚’åˆ¶å¾¡ã€‚</p>
  <p class="log">ä»Šæœˆã®å®Ÿæ–½æ—¥ï¼š<span id="log3"></span></p>
  <p class="last">æœ€çµ‚å®Ÿæ–½æ—¥ï¼š<span id="last3">â€•</span></p>
</details>
</section>

<section>
<details>
  <summary class="summary-row">
    <span>â‘£ ãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒ—ãƒ¬ã‚¹</span>
    <button class="check" onclick="addLog(this)">â–¡ å®Ÿæ–½</button>
  </summary>
  <img src="images/press-1.jpg" alt="ãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒ—ãƒ¬ã‚¹">
  <p><b>ç›®çš„ï¼š</b>è‚‹éª¨åœ§ç¸®ã«ã‚ˆã‚‹ä½“å¹¹ã‹ã‚‰ã®åŠ›ä¼é”ã‚’å­¦ã¶ã€‚</p>
  <p class="log">ä»Šæœˆã®å®Ÿæ–½æ—¥ï¼š<span id="log4"></span></p>
  <p class="last">æœ€çµ‚å®Ÿæ–½æ—¥ï¼š<span id="last4">â€•</span></p>
</details>
</section>

<section>
<details>
  <summary class="summary-row">
    <span>â‘¤ MBãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒªãƒ¼ãƒ‰ãƒ»ãƒ‰ãƒªãƒ«</span>
    <button class="check" onclick="addLog(this)">â–¡ å®Ÿæ–½</button>
  </summary>
  <img src="images/mblead-1.jpg" alt="MBãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒªãƒ¼ãƒ‰ãƒ»ãƒ‰ãƒªãƒ«">
  <p><b>ç›®çš„ï¼š</b>è‚‹éª¨ä¸»å°ã§æ³¢ã®ã‚ˆã†ãªå‡ºåŠ›ä¼é”ã‚’ä½“å¾—ã™ã‚‹ã€‚</p>
  <p class="log">ä»Šæœˆã®å®Ÿæ–½æ—¥ï¼š<span id="log5"></span></p>
  <p class="last">æœ€çµ‚å®Ÿæ–½æ—¥ï¼š<span id="last5">â€•</span></p>
</details>
</section>

<section>
<details>
  <summary class="summary-row">
    <span>â‘¥ WBãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒªãƒ¼ãƒ‰ãƒ»ãƒ‰ãƒªãƒ«</span>
    <button class="check" onclick="addLog(this)">â–¡ å®Ÿæ–½</button>
  </summary>
  <img src="images/wblead-1.jpg" alt="WBãƒªãƒ–ã‚±ãƒ¼ã‚¸ãƒ»ãƒªãƒ¼ãƒ‰ãƒ»ãƒ‰ãƒªãƒ«">
  <p><b>ç›®çš„ï¼š</b>ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒãƒƒã‚°ã®æµä½“æŠµæŠ—ã¨èº«ä½“æ³¢å‹•ã‚’åŒæœŸã€‚</p>
  <p class="log">ä»Šæœˆã®å®Ÿæ–½æ—¥ï¼š<span id="log6"></span></p>
  <p class="last">æœ€çµ‚å®Ÿæ–½æ—¥ï¼š<span id="last6">â€•</span></p>
</details>
</section>

<section>
<details>
  <summary class="summary-row">
    <span>â‘¦ BIG3ï¼ˆã‚¹ã‚¯ãƒ¯ãƒƒãƒˆï¼ãƒ‡ãƒƒãƒ‰ãƒªãƒ•ãƒˆï¼ãƒ™ãƒ³ãƒãƒ—ãƒ¬ã‚¹ï¼‰</span>
    <button class="check" onclick="addLog(this)">â–¡ å®Ÿæ–½</button>
  </summary>
  <ul style="margin-top:6px; color:#ccc; font-size:0.9em; line-height:1.6;">
    <li>ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆï¼šä½“å¹¹ã®å›ºå®šã¨ä¸‹è‚¢å‡ºåŠ›ã®å”èª¿</li>
    <li>ãƒ‡ãƒƒãƒ‰ãƒªãƒ•ãƒˆï¼šéª¨ç›¤æ»‘èµ°ã¨èƒŒéƒ¨ä¼é”ã®çµ±åˆ</li>
    <li>ãƒ™ãƒ³ãƒãƒ—ãƒ¬ã‚¹ï¼šèƒ¸éƒ­åœ§ç¸®ã¨æŠ¼ã—å‡ºã—é€£å‹•ã®å¼·åŒ–</li>
  </ul>
  <p class="log">ä»Šæœˆã®å®Ÿæ–½æ—¥ï¼š<span id="log7"></span></p>
  <p class="last">æœ€çµ‚å®Ÿæ–½æ—¥ï¼š<span id="last7">â€•</span></p>
</details>
</section>

<!-- ğŸ”„ ãƒªã‚»ãƒƒãƒˆ -->
<button id="reset" onclick="resetAll()">ğŸ”„ å…¨ãƒªã‚»ãƒƒãƒˆ</button>

<footer>Â©2025 adjustment-lab</footer>

<script>
// ===== æ—¥ä»˜é–¢é€£ =====
function getTodayStr(){
  const d = new Date();
  return ("0"+(d.getMonth()+1)).slice(-2)+"/"+("0"+d.getDate()).slice(-2);
}
function getWeekKey(){
  const today = new Date();
  const onejan = new Date(today.getFullYear(),0,1);
  const week = Math.ceil((((today - onejan)/86400000)+onejan.getDay()+1)/7);
  return `${today.getFullYear()}-W${week}`;
}
const drills=7;
const monthKey=new Date().getFullYear()+"-"+("0"+(new Date().getMonth()+1)).slice(-2);
const weekKey=getWeekKey();

// ===== åˆæœŸãƒ­ãƒ¼ãƒ‰ =====
window.onload=()=>{
  for(let i=1;i<=drills;i++){
    const logData=JSON.parse(localStorage.getItem(`log${i}_${monthKey}`))||[];
    const lastDate=localStorage.getItem(`last${i}_${monthKey}`)||"â€•";
    document.getElementById(`log${i}`).textContent=logData.join("ãƒ»");
    document.getElementById(`last${i}`).textContent=lastDate;
  }
  updateProgressBar();
};

// ===== ãƒœã‚¿ãƒ³å‹•ä½œ =====
function addLog(btn){
  const section=btn.closest("section");
  const id=Array.from(document.querySelectorAll("section")).indexOf(section)+1;
  const today=getTodayStr();
  let logData=JSON.parse(localStorage.getItem(`log${id}_${monthKey}`))||[];
  if(!logData.includes(today)){
    logData.push(today);
    localStorage.setItem(`log${id}_${monthKey}`,JSON.stringify(logData));
    localStorage.setItem(`last${id}_${monthKey}`,today);
    document.getElementById(`log${id}`).textContent=logData.join("ãƒ»");
    document.getElementById(`last${id}`).textContent=today;
    btn.textContent="âœ” å®Œäº†";
    btn.classList.add("done");
    let weekCount=parseInt(localStorage.getItem(`weekCount_${weekKey}`)||"0");
    weekCount++;
    localStorage.setItem(`weekCount_${weekKey}`,weekCount);
    updateProgressBar();
  }else{
    if(confirm("ã“ã®æ—¥ã®è¨˜éŒ²ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")){
      logData=logData.filter(x=>x!==today);
      localStorage.setItem(`log${id}_${monthKey}`,JSON.stringify(logData));
      const newLast=logData.length?logData[logData.length-1]:"â€•";
      localStorage.setItem(`last${id}_${monthKey}`,newLast);
      document.getElementById(`log${id}`).textContent=logData.join("ãƒ»");
      document.getElementById(`last${id}`).textContent=newLast;
      btn.textContent="â–¡ å®Ÿæ–½";
      btn.classList.remove("done");
    }
  }
}

// ===== ã‚²ãƒ¼ã‚¸ =====
function updateProgressBar(){
  const weekCount=parseInt(localStorage.getItem(`weekCount_${weekKey}`)||"0");
  const bar=document.getElementById("progressBar");
  const percent=Math.min((weekCount/2)*100,100);
  bar.style.width=percent+"%";
  bar.textContent=`ä»Šé€± ${Math.min(weekCount,2)} / 2 å›`;
}
function resetAll(){
  if(confirm("å…¨å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")){
    localStorage.clear();location.reload();
  }
}
</script>
</body>
</html>
